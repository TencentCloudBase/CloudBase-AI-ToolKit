# 云开发 + CodeBuddy

> 💡 **为什么选择这个配置？**  
> CodeBuddy 是腾讯推出的 AI 编程助手，具有强大的 Craft 智能体功能，能够与微信开发者工具深度集成。通过云开发配置，能够无缝开发小程序、Web 应用和企业级项目，特别适合腾讯生态的全栈开发。

## 📦 获取项目模板

推荐使用预配置的项目模板快速开始：

> 📖 **查看完整模板列表**：[项目模板](../templates)

**已有项目增强**：
如果你已经有项目，配置好 MCP 后，对 AI 说：
```
在当前项目中下载云开发 AI 规则
```

## 👥 CodeBuddy 配置

### 步骤1：使用 AI 规则

模板中已包含 `.rules/` 目录，CodeBuddy 会自动识别云开发最佳实践。如果不是从模板开始，可以让 AI 帮你下载云开发规则。

### 步骤2：配置 MCP

点开 CodeBuddy 右上角的 MCP 按钮，点击右侧的添加，在 MCP 配置中添加云开发的 MCP

```json
{
  "mcpServers": {
    "cloudbase": {
      "command": "npx",
      "args": ["@cloudbase/cloudbase-mcp@latest"]
    }
  }
}
```

### 步骤3：切换到 Craft 智能体

在对话窗口中切换到 Craft 模式。建议在右侧设置中关闭确认计划功能，以获得更流畅的体验。

## 开始使用

配置完成后，对 AI 说：

```
登录云开发
```

开始你的开发之旅！

## 特色功能

- **Craft 智能体**：专为代码生成优化
- **微信开发者工具集成**：支持小程序开发
- **企业级部署**：支持企业内部部署

## 故障排除

**MCP 不生效？**
1. 检查 MCP 配置格式
2. 重启 CodeBuddy
3. 确认 MCP 服务已启用

## 🚀 快速配置

### 步骤 1：安装 CodeBuddy

根据你的开发环境选择安装方式：

- **VS Code**: 在扩展商店搜索 "CodeBuddy" 安装
- **JetBrains**: 在插件市场搜索 "CodeBuddy" 安装  
- **微信开发者工具**: 从腾讯云官网下载插件

### 步骤 4：启用 Craft 模式

1. 在对话窗口中切换到 **Craft** 模式
2. 建议在右侧设置中关闭确认计划功能，获得更流畅的体验
3. 确认 MCP 工具已成功连接

## 🎯 开始使用

### 1. 登录云开发

在 Craft 模式下与 AI 对话：

```
登录云开发
```

### 2. 验证连接

```
查询当前云开发环境信息
```

### 3. 开始开发

```
开发一个在线投票系统，支持创建投票、参与投票、结果统计，使用云数据库存储，最后部署
```

## 💡 使用技巧

### Craft 模式特性

- **智能规划**：AI 自动分析需求并制定开发计划
- **代码生成**：支持完整项目的代码生成
- **自动执行**：可以自动执行开发和部署流程
- **实时反馈**：开发过程中提供实时状态反馈

### 开发工作流

```bash
# 完整项目开发
创建一个社交媒体应用，包含：
- 用户注册登录
- 动态发布和浏览
- 点赞评论功能
- 图片上传存储
- 消息推送
- 部署上线

# 功能迭代
在现有项目中添加实时聊天功能，使用云数据库实时推送

# 数据分析
为应用添加用户行为分析功能，统计用户活跃度和使用习惯
```

### 最佳实践

1. **使用 Craft 模式**：Craft 模式提供最佳的开发体验
2. **关闭确认计划**：提高开发效率，减少人工干预
3. **详细需求描述**：清晰的需求描述有助于生成高质量代码
4. **模块化开发**：大型项目建议分模块逐步实现

## 🔧 高级配置

### MCP 高级设置

在 MCP 配置中可以添加更多选项：

```json
{
  "mcpServers": {
    "cloudbase": {
      "command": "npx",
      "args": ["@cloudbase/cloudbase-mcp@latest"],
      "timeout": 120000,
      "env": {
        "CLOUDBASE_DEBUG": "true"
      }
    }
  }
}
```

### 团队协作配置

为团队项目配置统一的规则文件：

```markdown
# 团队开发规范
- 使用 TypeScript 进行类型安全开发
- 遵循 ESLint 和 Prettier 代码规范
- 优先使用云开发服务，减少第三方依赖
- 所有 API 接口使用云函数实现
- 数据库操作统一通过云函数处理
```

## 🛠️ 故障排除

### MCP 连接失败

**问题：** 无法连接到云开发 MCP 服务

**解决方案：**
1. 检查 MCP 配置是否正确
2. 确认 npx 命令可用：`npx --version`
3. 检查网络连接状态
4. 重启 CodeBuddy 插件

### Craft 模式异常

**问题：** Craft 模式下无法执行操作

**解决方案：**
1. 切换到其他模式再切回 Craft 模式
2. 检查项目权限设置
3. 确认工作目录正确

### 代码生成问题

**问题：** 生成的代码不符合预期

**解决方案：**
1. 明确描述技术栈和框架要求
2. 提供示例代码或参考文档
3. 使用项目模板确保规范一致性

## 📱 微信开发者工具集成

CodeBuddy 特别优化了微信小程序开发体验：

### 小程序开发流程

```bash
# 创建小程序项目
创建一个外卖配送小程序，包含：
- 商家列表和商品展示
- 购物车和订单管理
- 地图定位和配送跟踪
- 微信支付集成
- 用户评价系统

# 云开发集成
为小程序添加云开发后端，包括云数据库、云函数、云存储

# 发布部署
完善小程序功能后进行预览和发布
```

### 小程序特色功能

- **云开发一体化**：原生支持微信云开发
- **组件库集成**：自动使用微信小程序组件
- **API 调用优化**：智能使用微信小程序 API
- **真机调试**：支持真机预览和调试

## 💡 开发场景示例

### 电商应用开发

```